safe do

  # uncoment correct sections you want to use

  # mongo
  # db_file = YAML.load_file('config/mongoid.yml')
  # mongoid_config = db_file['production'] || db_file['beta']
  # mongodump do
  #   database mongoid_config['database']
  # end

  # mysql
  # db_file = YAML.load_file('config/database.yml')
  # mysql_config = db_file['production'] || db_file['beta']
  # mysqldump do
  #   options "-ceKq --single-transaction --create-options"
  #   user        mysql_config['username']
  #   password    mysql_config['password']
  #   database    mysql_config['database']
  #   host        mysql_config['host']
  # end

  # postgres
  # db_file = YAML.load_file('config/database.yml')
  # pg_config = db_file['production'] || db_file['beta']
  # pgdump do
  #   options "-i -x -O"   # -i => ignore version, -x => do not dump privileges (grant/revoke), -O => skip restoration of object ownership in plain text format
  #   user      pg_config['username']
  #   password  pg_config['password']
  #   database  pg_config['database']
  # end

  # store backups on s3
  # s3_file = YAML.load_file('config/sec_config.yml')
  # s3_config = (s3_file['production'] || s3_file['beta'])['s3']
  # s3 do
  #   key     s3_config['access_key_id']
  #   secret  s3_config['secret_access_key']
  #   bucket  '<%= Netguru.application_name %>_production'
  # end

  keep do
    local 10
    # s3 120 # uncomment if you are using s3 backup
  end

  local do
    path "~/db_backups"
  end
end
